extends layout.pug

block append scripts
    script(src="js/admin.js")

block content
    div(class="row" style="margin-top: 20px")
        div(class="col-lg-3 col-md-2")
        div(class="col-lg-6 col-md-8")
            div(class='container')
                div(class="card")
                    div(class="card-header bg-primary text-white text-center")
                        h2 Self-Authed
                    div(class="card-body")
                        p(class="card-text") Hello #{username} !
                    div(class="card-footer")
                        a(href="/" class="btn btn-primary" role="button") Back
    div(class="row" style="margin-top: 20px")
        div(class="col-lg-12 col-md-12")
            div(class='container')
                div(class=" text-center")
                    h2 Users
                table(class="table align-middle")
                    tr
                        th(style="width:20%") User
                        th(style="width:10%" class="text-center") Admin
                        th(style="width:55%") Permissions
                        th(style="width:15%" class="text-end")
                            button(class="btn btn-success btn-sm fa fa-plus")
                    for user in users
                        tr
                            td= user.username
                            td(class="text-center")
                                if user.admin
                                    span(class="fa fa-check")
                            td
                                for perm in user.permissions.sort()
                                    span(class="badge bg-primary") #{perm}
                                    span 
                            td(class="text-end")
                                button(class="btn btn-secondary btn-sm fa fa-edit")
                                span 
                                button(class="btn btn-danger btn-sm fa fa-trash")